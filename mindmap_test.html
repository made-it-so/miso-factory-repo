<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Minimal Markmap Test</title>
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/markmap-lib"></script>
  <script src="https://cdn.jsdelivr.net/npm/markmap-view"></script>
</head>
<body>
  <svg id="markmap" style="width: 100%; height: 100vh;"></svg>

  <script>
    // 3. The minimal script to initialize and render the map
    (function() {
      try {
        // Get the library objects from the window
        const { Markmap, Transformer } = window.markmap;

        // The hardcoded data
        const markdown = `# Markmap Test
## Item 1
- Sub-item A
- Sub-item B
## Item 2
- Sub-item C`;

        // Transform the data
        const transformer = new Transformer();
        const { root } = transformer.transform(markdown);
        
        // Render the mind map
        Markmap.create('#markmap', null, root);
      } catch (e) {
        // If an error occurs, display it on the page
        document.body.innerHTML = `<pre style="color: red;">Error: ${e.stack}</pre>`;
      }
    }());
  </script>
</body>
</html>
